{"version":3,"file":"button.js","sources":["../../src/button/button.tsx"],"sourcesContent":["import { computed, defineComponent } from 'vue';\nimport { prefix } from '../config';\nimport CLASSNAMES from '../utils/classnames';\nimport TLoading from '../loading';\nimport props from './props';\nimport { renderContent, renderTNodeJSX } from '../utils/render-tnode';\nimport ripple from '../utils/ripple';\n\nconst name = `${prefix}-button`;\n\nexport default defineComponent({\n  name: 'TButton',\n  directives: { ripple },\n  inheritAttrs: false,\n  props,\n  setup(props) {\n    const isDisabledRef = computed(() => props.disabled || props.loading);\n    const mergeThemeRef = computed(() => {\n      const { theme, variant } = props;\n      if (theme) return theme;\n      if (variant === 'base') return 'primary';\n      return 'default';\n    });\n    const buttonClassRef = computed(() => [\n      `${name}`,\n      CLASSNAMES.SIZE[props.size],\n      `${name}--variant-${props.variant}`,\n      `${name}--theme-${mergeThemeRef.value}`,\n      {\n        [CLASSNAMES.STATUS.disabled]: isDisabledRef.value,\n        [CLASSNAMES.STATUS.loading]: props.loading,\n        [`${name}--shape-${props.shape}`]: props.shape !== 'rectangle',\n        [`${name}--ghost`]: props.ghost,\n        [CLASSNAMES.SIZE.block]: props.block,\n      },\n    ]);\n\n    return {\n      isDisabled: isDisabledRef,\n      mergeTheme: mergeThemeRef,\n      buttonClass: buttonClassRef,\n    };\n  },\n  render() {\n    let buttonContent = renderContent(this, 'default', 'content');\n    const icon = this.loading ? <TLoading inheritColor={true} /> : renderTNodeJSX(this, 'icon');\n    const iconOnly = icon && !buttonContent;\n\n    buttonContent = buttonContent ? <span class={`${name}__text`}>{buttonContent}</span> : '';\n    if (icon) {\n      buttonContent = [icon, buttonContent];\n    }\n\n    return (\n      <button\n        v-ripple\n        class={[...this.buttonClass, { [`${name}--icon-only`]: iconOnly }]}\n        type={this.type}\n        disabled={this.disabled}\n        {...this.$attrs}\n        onClick={this.onClick}\n      >\n        {buttonContent}\n      </button>\n    );\n  },\n});\n"],"names":["name","prefix","defineComponent","directives","ripple","inheritAttrs","props","setup","props2","isDisabledRef","computed","disabled","loading","mergeThemeRef","theme","variant","buttonClassRef","CLASSNAMES","SIZE","size","value","STATUS","shape","ghost","block","isDisabled","mergeTheme","buttonClass","render","buttonContent","renderContent","icon","renderTNodeJSX","iconOnly","type","$attrs","onClick"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA,IAAMA,IAAI,aAAMC,aAAN,YAAV;AACA,cAAeC,mBAAe,CAAC;AAC7BF,EAAAA,IAAI,EAAE,SADuB;AAE7BG,EAAAA,UAAU,EAAE;AAAEC,IAAAA,MAAM,EAANA;AAAF,GAFiB;AAG7BC,EAAAA,YAAY,EAAE,KAHe;AAI7BC,EAAAA,KAAK,EAALA,uBAJ6B;AAK7BC,EAAAA,KAL6B,iBAKvBC,MALuB,EAKf;AACZ,QAAMC,aAAa,GAAGC,YAAQ,CAAC;AAAA,aAAMF,MAAM,CAACG,QAAP,IAAmBH,MAAM,CAACI,OAAhC;AAAA,KAAD,CAA9B;AACA,QAAMC,aAAa,GAAGH,YAAQ,CAAC,YAAM;AACnC,UAAQI,KAAR,GAA2BN,MAA3B,CAAQM,KAAR;AAAA,UAAeC,OAAf,GAA2BP,MAA3B,CAAeO,OAAf;AACA,UAAID,KAAJ,EACE,OAAOA,KAAP;AACF,UAAIC,OAAO,KAAK,MAAhB,EACE,OAAO,SAAP;AACF,aAAO,SAAP;AACD,KAP6B,CAA9B;AAQA,QAAMC,cAAc,GAAGN,YAAQ,CAAC;AAAA;;AAAA,aAAM,WACjCV,IADiC,GAEpCiB,2BAAU,CAACC,IAAX,CAAgBV,MAAM,CAACW,IAAvB,CAFoC,YAGjCnB,IAHiC,uBAGhBQ,MAAM,CAACO,OAHS,aAIjCf,IAJiC,qBAIlBa,aAAa,CAACO,KAJI,yDAMjCH,2BAAU,CAACI,MAAX,CAAkBV,QANe,EAMJF,aAAa,CAACW,KANV,6CAOjCH,2BAAU,CAACI,MAAX,CAAkBT,OAPe,EAOLJ,MAAM,CAACI,OAPF,uDAQ9BZ,IAR8B,qBAQfQ,MAAM,CAACc,KARQ,GAQEd,MAAM,CAACc,KAAP,KAAiB,WARnB,uDAS9BtB,IAT8B,cASdQ,MAAM,CAACe,KATO,6CAUjCN,2BAAU,CAACC,IAAX,CAAgBM,KAViB,EAUThB,MAAM,CAACgB,KAVE,SAAN;AAAA,KAAD,CAA/B;AAaA,WAAO;AACLC,MAAAA,UAAU,EAAEhB,aADP;AAELiB,MAAAA,UAAU,EAAEb,aAFP;AAGLc,MAAAA,WAAW,EAAEX;AAHR,KAAP;AAKD,GAjC4B;AAkC7BY,EAAAA,MAlC6B,oBAkCpB;AACP,QAAIC,aAAa,GAAGC,+BAAa,CAAC,IAAD,EAAO,SAAP,EAAkB,SAAlB,CAAjC;AACA,QAAMC,IAAI,GAAG,KAAKnB,OAAL;AAAA,sBAAuC;AAAvC,eAAkDoB,gCAAc,CAAC,IAAD,EAAO,MAAP,CAA7E;AACA,QAAMC,QAAQ,GAAGF,IAAI,IAAI,CAACF,aAA1B;AACAA,IAAAA,aAAa,GAAGA,aAAa;AAAA,yBAAmB7B,IAAnB;AAAA,QAAkC6B,aAAlC,KAA0D,EAAvF;;AACA,QAAIE,IAAJ,EAAU;AACRF,MAAAA,aAAa,GAAG,CAACE,IAAD,EAAOF,aAAP,CAAhB;AACD;;AACD;AAAA,gEAAmC,KAAKF,WAAxC,sDAA2D3B,IAA3D,kBAA+EiC,QAA/E;AAAA,cAAkG,KAAKC,IAAvG;AAAA,kBAAuH,KAAKvB;AAA5H,OAA0I,KAAKwB,MAA/I;AAAA,iBAAgK,KAAKC;AAArK,SAA+KP,aAA/K;AACD;AA3C4B,CAAD,CAA9B;;;;"}