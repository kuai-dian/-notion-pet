{"version":3,"file":"input-items.js","sources":["../../src/time-picker/input-items.tsx"],"sourcesContent":["import { defineComponent } from 'vue';\nimport { TimeInputType, InputEvent, InputTime } from './interface';\nimport mixins from '../utils/mixins';\nimport getConfigReceiverMixins, { TimePickerConfig } from '../config-provider/config-receiver';\nimport { emitEvent } from '../utils/event';\n\nimport { COMPONENT_NAME, amFormat, KeyboardDirection, EMPTY_VALUE, MERIDIEM_LIST } from './constant';\n\nimport { prefix } from '../config';\n\nconst name = `${prefix}-time-picker-input-items`; // t-time-picker-input-items\n\nexport default defineComponent({\n  ...mixins(getConfigReceiverMixins<TimePickerConfig>('timePicker')),\n  name,\n\n  props: {\n    // 格式化标准\n    format: {\n      type: String,\n      default: '',\n    },\n    // 时间\n    dayjs: {\n      type: [Object, Array, undefined],\n      default: undefined,\n    },\n    // placeholder\n    placeholder: {\n      type: String,\n      default: '',\n    },\n    allowInput: {\n      type: Boolean,\n    },\n    isRangePicker: {\n      type: Boolean,\n      default: false,\n    },\n    disabled: {\n      type: Boolean,\n    },\n  },\n\n  emits: ['change', 'blurDefault', 'focusDefault', 'toggleMeridiem'],\n\n  computed: {\n    displayTimeList(): Array<InputTime | undefined> | Record<string, any> {\n      return this.isRangePicker ? this.dayjs : [this.dayjs];\n    },\n  },\n\n  methods: {\n    // 输入事件\n    onInput(e: Event, type: TimeInputType, index: number): void {\n      if (!this.allowInput) return;\n      const { target, data } = e as InputEvent;\n      const { value } = target;\n      const {\n        $props: { format },\n      } = this;\n      const curDayJs = this.displayTimeList[index];\n      let number = Number(value);\n      if ((curDayJs[type] === '00' && number === 0) || value === '') {\n        // 输入之前是00 输入之后是0\n        // 清空\n        emitEvent(this, 'change', {\n          value: EMPTY_VALUE,\n          type,\n          index,\n        });\n      } else if (`${number}`.length > 2) {\n        // 当前输入的数值大于两位数\n        number = Number(data);\n      }\n      // 两位数判断\n      // 是否使有效输入\n      let emitChange = true;\n      // 过滤掉非法输入\n      if (!isNaN(number)) {\n        switch (type) {\n          case 'hour':\n            if (number > (/[h]{1}/.test(format) ? 12 : 24) || number < 0) {\n              emitChange = false;\n            }\n            break;\n          case 'minute':\n            if (number > 59 || number < 0) {\n              emitChange = false;\n            }\n            break;\n          case 'second':\n            if (number > 59 || number < 0) {\n              emitChange = false;\n            }\n            break;\n          default:\n            break;\n        }\n        if (emitChange) {\n          emitEvent(this, 'change', {\n            value: number,\n            type,\n            index,\n          });\n        }\n      }\n      if (curDayJs[type] !== undefined) this.setInputValue(curDayJs[type], target);\n    },\n    // 失去焦点\n    onBlur(e: FocusEvent, trigger: TimeInputType, index: number, input: number): void {\n      this.allowInput && emitEvent(this, 'blurDefault', e, trigger, index, input);\n    },\n    onFocus(e: FocusEvent, trigger: TimeInputType, index: number, input: number): void {\n      this.allowInput && emitEvent(this, 'focusDefault', e, trigger, index, input);\n    },\n    // 键盘监听\n    onKeydown(e: any, type: TimeInputType, index: number): void {\n      if (!this.allowInput) return;\n      const { which } = e;\n      const {\n        $props: { format },\n      } = this;\n      const curDayJs = this.displayTimeList[index];\n      // 增加减少\n      if ([KeyboardDirection.up, KeyboardDirection.down].includes(which)) {\n        if (type === 'meridiem') return;\n        // 加减\n        const current = curDayJs[type] ? Number(curDayJs[type]) : 0;\n        const operate = which === KeyboardDirection.up ? -1 : 1;\n        let result = current + operate;\n        // 边界检测\n        if (type === 'hour') {\n          if (result > (/[h]{1}/.test(format) ? 11 : 23)) {\n            // 上限\n            result = 0;\n          } else if (result < 0) {\n            result = /[h]{1}/.test(format) ? 11 : 23;\n          }\n        } else if (result > 59) {\n          result = 1;\n        } else if (result < 0) {\n          result = 59;\n        }\n        // 发送变动\n        emitEvent(this, 'change', {\n          value: result,\n          type,\n          index,\n        });\n      } else if ([KeyboardDirection.left, KeyboardDirection.right].includes(which)) {\n        // 移动方向\n        const { target } = e;\n        // 查找上下一个兄弟节点\n        const { parentNode } = target;\n        const focus = which === KeyboardDirection.left ? parentNode.previousSibling : parentNode.nextSibling;\n        if (focus) {\n          const input = focus.querySelector('input');\n          if (!input.focus) return;\n          input.focus();\n        }\n      }\n    },\n    // 切换上下午\n    onToggleMeridiem(index: number): void {\n      emitEvent(this, 'toggleMeridiem', index);\n    },\n    // 设置输入框原始值，使其完全受控\n    setInputValue(v: string | number, input: HTMLInputElement): void {\n      const sV = String(v);\n      if (!input) {\n        return;\n      }\n      if (input.value !== sV) {\n        // input.value = sV;\n        Object.assign(input, { value: sV });\n        // input.setAttribute('value', sV);\n      }\n    },\n    // ==== 渲染逻辑层 START ====\n    // 渲染输入组件\n    switchRenderComponent() {\n      const {\n        $props: { format, placeholder, allowInput, disabled },\n      } = this;\n\n      // 判定placeholder展示\n      function isEmptyDayjs(val: InputTime) {\n        return val === undefined || (val.hour === undefined && val.minute === undefined && val.second === undefined);\n      }\n      const isEmptyVal = this.displayTimeList.every((date: InputTime) => isEmptyDayjs(date));\n      if (isEmptyVal) {\n        return <span class={`${COMPONENT_NAME}__input-placeholder`}>{placeholder}</span>;\n      }\n      const itemClasses = disabled\n        ? [`${COMPONENT_NAME}__input-item`, `${COMPONENT_NAME}__input-item-disabled`]\n        : [`${COMPONENT_NAME}__input-item`];\n      const inputClass = `${COMPONENT_NAME}__input-item-input`;\n      const render: any = [];\n\n      this.displayTimeList.forEach((inputTime: InputTime | undefined, index: number) => {\n        if (index > 0) render.push('-');\n        const { hour, minute, second } = inputTime;\n        // 渲染组件 - 默认有小时输入\n        render.push(\n          <span class={itemClasses}>\n            <input\n              class={inputClass}\n              value={hour}\n              disabled={!allowInput}\n              onKeydown={(e: Event) => this.onKeydown(e, 'hour', index)}\n              onInput={(e: Event) => this.onInput(e, 'hour', index)}\n              onBlur={(e: FocusEvent) => this.onBlur(e, 'hour', index, Number(hour))}\n              onFocus={(e: FocusEvent) => this.onFocus(e, 'hour', index, Number(hour))}\n            />\n          </span>,\n        );\n        // 判断分秒输入\n        if (/[hH]{1,2}:m{1,2}/.test(format)) {\n          // 需要分钟输入器\n          render.push(\n            <span class={itemClasses}>\n              &#58;\n              <input\n                class={inputClass}\n                value={minute}\n                disabled={!allowInput}\n                onKeydown={(e: Event) => this.onKeydown(e, 'minute', index)}\n                onInput={(e: Event) => this.onInput(e, 'minute', index)}\n                onBlur={(e: FocusEvent) => this.onBlur(e, 'minute', index, Number(minute))}\n                onFocus={(e: FocusEvent) => this.onFocus(e, 'minute', index, Number(minute))}\n              />\n            </span>,\n          );\n          // 需要秒输入器\n          if (/[hH]{1,2}:m{1,2}:s{1,2}/.test(format)) {\n            render.push(\n              <span class={itemClasses}>\n                &#58;\n                <input\n                  class={inputClass}\n                  value={second}\n                  disabled={!allowInput}\n                  onKeydown={(e: Event) => this.onKeydown(e, 'second', index)}\n                  onInput={(e: Event) => this.onInput(e, 'second', index)}\n                  onBlur={(e: FocusEvent) => this.onBlur(e, 'second', index, Number(second))}\n                  onFocus={(e: FocusEvent) => this.onFocus(e, 'second', index, Number(second))}\n                />\n              </span>,\n            );\n          }\n        }\n        // 判断上下午位置\n        if (/[h]{1}/.test(format) && (format.includes('A') || format.includes('a'))) {\n          const localeMeridiemList = [this.global.anteMeridiem, this.global.postMeridiem];\n          const text = localeMeridiemList[MERIDIEM_LIST.indexOf(inputTime.meridiem.toUpperCase())];\n          // 放在前面or后面\n          render[amFormat.test(format) ? 'unshift' : 'push'](\n            <span class={itemClasses} onClick={() => allowInput && this.onToggleMeridiem(index)}>\n              <input\n                readonly\n                class={[inputClass, `${inputClass}-meridiem`]}\n                value={text}\n                onKeydown={(e: Event) => this.onKeydown(e, 'meridiem', index)}\n                disabled={!allowInput}\n              />\n            </span>,\n          );\n        }\n      });\n      return render;\n    },\n    // ==== 渲染逻辑层 END ====\n  },\n\n  render() {\n    const classes = [`${COMPONENT_NAME}__input`];\n    return <div class={classes}>{this.switchRenderComponent()}</div>;\n  },\n});\n"],"names":["name","prefix","defineComponent","mixins","getConfigReceiverMixins","props","format","type","String","dayjs","Object","Array","placeholder","allowInput","Boolean","isRangePicker","disabled","emits","computed","displayTimeList","methods","onInput","e","index","target","data","value","$props","curDayJs","number","Number","emitEvent","EMPTY_VALUE","length","emitChange","isNaN","test","setInputValue","onBlur","trigger","input","onFocus","onKeydown","which","KeyboardDirection","up","down","includes","current","operate","result","left","right","parentNode","focus","previousSibling","nextSibling","querySelector","onToggleMeridiem","v","sV","assign","switchRenderComponent","isEmptyDayjs","val","hour","minute","second","isEmptyVal","every","date","COMPONENT_NAME","itemClasses","inputClass","render","forEach","inputTime","push","localeMeridiemList","global","anteMeridiem","postMeridiem","text","MERIDIEM_LIST","indexOf","meridiem","toUpperCase","amFormat","classes"],"mappings":"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"}