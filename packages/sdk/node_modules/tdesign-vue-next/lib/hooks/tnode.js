/**
 * tdesign v0.8.0
 * (c) 2022 tdesign
 * @license MIT
 */

'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var vue = require('vue');
var isEmpty = require('lodash/isEmpty');
var isFunction = require('lodash/isFunction');
var utils_renderTnode = require('../utils/render-tnode.js');
require('lodash/isString');
require('lodash/isObject');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var isEmpty__default = /*#__PURE__*/_interopDefaultLegacy(isEmpty);
var isFunction__default = /*#__PURE__*/_interopDefaultLegacy(isFunction);

var useTNodeJSX = function useTNodeJSX(name, options) {
  var params = utils_renderTnode.getParams(options);
  var defaultNode = utils_renderTnode.getDefaultNode(options);
  var instance = vue.getCurrentInstance();
  var propsNode;

  if (Object.keys(instance).includes(name)) {
    propsNode = instance[name];
  }

  if (propsNode === false) return;

  if (instance.slots[name]) {
    return instance.slots[name](params);
  }

  if (isFunction__default["default"](propsNode)) return propsNode(vue.h, params);

  if (propsNode === true && defaultNode) {
    return defaultNode;
  }

  return propsNode;
};
var useTNodeDefault = function useTNodeDefault(name, options) {
  var defaultNode = utils_renderTnode.getDefaultNode(options);
  return useTNodeJSX(name, options) || defaultNode;
};
var useContent = function useContent(name1, name2, options) {
  var params = utils_renderTnode.getParams(options);
  var defaultNode = utils_renderTnode.getDefaultNode(options);
  var toParams = params ? {
    params: params
  } : void 0;
  var node1 = useTNodeJSX(name1, toParams);
  var node2 = useTNodeJSX(name2, toParams);
  var res = isEmpty__default["default"](node1) ? node2 : node1;
  return isEmpty__default["default"](res) ? defaultNode : res;
};

exports.useContent = useContent;
exports.useTNodeDefault = useTNodeDefault;
exports.useTNodeJSX = useTNodeJSX;
//# sourceMappingURL=tnode.js.map
