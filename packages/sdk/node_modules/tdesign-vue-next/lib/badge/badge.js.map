{"version":3,"file":"badge.js","sources":["../../src/badge/badge.tsx"],"sourcesContent":["import { defineComponent, ComponentPublicInstance } from 'vue';\nimport { prefix } from '../config';\nimport props from './props';\nimport { renderTNodeJSX } from '../utils/render-tnode';\n\nconst name = `${prefix}-badge`;\n\nexport default defineComponent({\n  name: 'TBadge',\n\n  props: { ...props },\n\n  methods: {\n    getContent() {\n      if (this.dot) return '';\n      if (typeof this.count === 'function') {\n        return renderTNodeJSX(this as ComponentPublicInstance, 'count');\n      }\n      if (Number.isNaN(Number(this.count))) {\n        return this.count;\n      }\n      const count = Number(this.count);\n      return count > this.maxCount ? `${this.maxCount}+` : count;\n    },\n    isSmall() {\n      return this.size === 'small';\n    },\n    isZero() {\n      const content = this.getContent();\n      return content === 0 || content === '0';\n    },\n    isHidden() {\n      return !this.showZero && this.isZero();\n    },\n    getOffset() {\n      if (!this.offset) return {};\n      let [xOffset, yOffset]: Array<string | number> = this.offset;\n      xOffset = Number.isNaN(Number(xOffset)) ? xOffset : `${xOffset}px`;\n      yOffset = Number.isNaN(Number(yOffset)) ? yOffset : `${yOffset}px`;\n      return { xOffset, yOffset };\n    },\n  },\n\n  render() {\n    const { dot, shape, color } = this.$props;\n\n    const content = this.getContent();\n    const isHidden = this.isHidden();\n    const children = this.$slots.default ? this.$slots.default(null) : '';\n    const { xOffset, yOffset } = this.getOffset();\n    const badgeClassNames = [\n      {\n        [`${name}--dot`]: !!dot,\n        [`${name}--circle`]: !dot && shape === 'circle',\n        [`${name}--round`]: shape === 'round',\n        't-size-s': this.isSmall(),\n      },\n    ];\n    const inlineStyle = {\n      background: `${color}`,\n      right: xOffset,\n      top: yOffset,\n    };\n\n    return (\n      <div class={name} {...this.$attrs}>\n        {children || null}\n        {isHidden ? null : (\n          <sup class={badgeClassNames} style={inlineStyle}>\n            {content}\n          </sup>\n        )}\n      </div>\n    );\n  },\n});\n"],"names":["name","prefix","defineComponent","props","methods","getContent","dot","count","renderTNodeJSX","Number","isNaN","maxCount","isSmall","size","isZero","content","isHidden","showZero","getOffset","offset","xOffset","yOffset","render","$props","shape","color","children","$slots","badgeClassNames","inlineStyle","background","right","top","$attrs"],"mappings":"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"}