{"version":3,"file":"anchor-target.js","sources":["../../src/anchor/anchor-target.tsx"],"sourcesContent":["import { defineComponent } from 'vue';\nimport { FileCopyIcon } from 'tdesign-icons-vue-next';\nimport { prefix } from '../config';\nimport { copyText } from '../utils/clipboard';\nimport Message from '../message/plugin';\nimport props from './anchor-target-props';\nimport TPopup from '../popup';\nimport { COMPONENT_NAME } from './constant';\n\nconst name = `${COMPONENT_NAME}-target`;\nexport default defineComponent({\n  name: 'TAnchorTarget',\n\n  components: {\n    TPopup,\n    FileCopyIcon,\n  },\n\n  props: { ...props },\n\n  methods: {\n    /**\n     * 复制当前target的链接\n     *\n     */\n    copyText(): void {\n      // 通过构造一个a标签, 自动拼接好传入的id为href\n      const a = document.createElement('a');\n      a.href = `#${this.id}`;\n      copyText(a.href);\n      Message.success('链接复制成功', 1000);\n    },\n  },\n  render() {\n    const {\n      tag: TAG,\n      $slots: { default: children },\n      id,\n    } = this;\n    const className = [`${COMPONENT_NAME}__target`];\n    const iconClassName = `${prefix}-copy`;\n    return (\n      <TAG id={id} class={className}>\n        {children && children(null)}\n        <t-popup content=\"复制链接\" placement=\"top\" showArrow class={iconClassName}>\n          <FileCopyIcon onClick={this.copyText} />\n        </t-popup>\n      </TAG>\n    );\n  },\n});\n"],"names":["name","COMPONENT_NAME","defineComponent","components","TPopup","FileCopyIcon","props","methods","copyText","a","document","createElement","href","id","Message","success","render","TAG","tag","children","$slots","className","iconClassName","prefix"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,IAAMA,IAAI,aAAMC,cAAN,YAAV;AACA,oBAAeC,eAAe,CAAC;AAC7BF,EAAAA,IAAI,EAAE,eADuB;AAE7BG,EAAAA,UAAU,EAAE;AACVC,IAAAA,MAAM,EAANA,KADU;AAEVC,IAAAA,YAAY,EAAZA;AAFU,GAFiB;AAM7BC,EAAAA,KAAK,oBAAOA,KAAP,CANwB;AAO7BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,QADO,wBACI;AACT,UAAMC,CAAC,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAV;AACAF,MAAAA,CAAC,CAACG,IAAF,cAAa,KAAKC,EAAlB;;AACAL,MAAAA,QAAQ,CAACC,CAAC,CAACG,IAAH,CAAR;;AACAE,MAAAA,aAAO,CAACC,OAAR,CAAgB,sCAAhB,EAAwD,GAAxD;AACD;AANM,GAPoB;AAe7BC,EAAAA,MAf6B,oBAepB;AAAA;;AACP,QACOC,GADP,GAII,IAJJ,CACEC,GADF;AAAA,QAEqBC,QAFrB,GAII,IAJJ,CAEEC,MAFF;AAAA,QAGEP,EAHF,GAII,IAJJ,CAGEA,EAHF;AAKA,QAAMQ,SAAS,GAAG,WAAIpB,cAAJ,cAAlB;AACA,QAAMqB,aAAa,aAAMC,MAAN,UAAnB;AACA;AAAA,YAAgBV,EAAhB;AAAA,eAA2BQ;AAA3B;AAAA;AAAA,gBACGF,QAAQ,IAAIA,QAAQ,CAAC,IAAD,CADvB;AAAA,qBAEoB,0BAFpB;AAAA,uBAE0D,KAF1D;AAAA;AAAA,mBAEiFG;AAFjF;AAAA;AAAA;AAAA,yBAEuH,KAAI,CAACd;AAF5H;AAAA;AAAA;AAAA;AAAA;AAID;AA3B4B,CAAD,CAA9B;;;;"}