/**
 * tdesign v0.8.0
 * (c) 2022 tdesign
 * @license MIT
 */

import _typeof from '@babel/runtime/helpers/typeof';
import _slicedToArray from '@babel/runtime/helpers/slicedToArray';
import _defineProperty from '@babel/runtime/helpers/defineProperty';
import { isVNode, defineComponent, createVNode, resolveComponent, mergeProps } from 'vue';
import dayjs from 'dayjs';
import { c as commonjsGlobal } from '../_chunks/dep-b66bfe36.js';
import props from './props.js';
import getConfigReceiverMixins from '../config-provider/config-receiver.js';
import mixins from '../utils/mixins.js';
import { createMonthCellsData, createYearCellsData, getDayCn } from './utils.js';
import { emitEvent } from '../utils/event.js';
import { COMPONENT_NAME, MIN_YEAR, FIRST_MONTH_OF_YEAR, LAST_MONTH_OF_YEAR, DEFAULT_YEAR_CELL_NUMINROW } from './const.js';
import { Select, Option } from '../select/index.js';
import { RadioGroup, RadioButton } from '../radio/index.js';
import { Button } from '../button/index.js';
import { CheckTag } from '../tag/index.js';
import CalendarCellItem from './calendar-cell.js';
import { renderTNodeJSX, renderTNodeJSXDefault } from '../utils/render-tnode.js';
import '../config-provider/zh_CN_config.js';
import '../config.js';
import '../config-provider/type.js';
import '../utils/helper.js';
import '@babel/runtime/helpers/objectWithoutProperties';
import 'lodash/camelCase';
import '../utils/map-props.js';
import 'lodash/kebabCase';
import '../select/select.js';
import '@babel/runtime/helpers/toConsumableArray';
import 'lodash/isFunction';
import 'lodash/debounce';
import 'lodash/get';
import 'lodash/set';
import 'tdesign-icons-vue-next';
import '../loading/index.js';
import '../loading/loading.js';
import '../loading/icon/gradient.js';
import '../_common/js/loading/circle-adapter.js';
import '../_common/js/utils/set-style.js';
import '../_common/js/utils/helper.js';
import '../utils/classnames.js';
import '../utils/dom.js';
import 'lodash/isString';
import '../utils/easing.js';
import '../utils/transfer-dom.js';
import '../loading/props.js';
import '../utils/withInstall.js';
import '../loading/style';
import '../loading/type.js';
import '../loading/plugin.js';
import 'lodash/isEmpty';
import 'lodash/isObject';
import '../input/index.js';
import '../input/addon.js';
import '../input/input.js';
import '../input/props.js';
import '../input/input-group.js';
import '../input/style';
import '../input/type.js';
import '../common-components/fake-arrow.js';
import '../popup/index.js';
import '../popup/popup.js';
import '@popperjs/core';
import '../popup/props.js';
import '../utils/set-style.js';
import '../popup/style';
import '../popup/type.js';
import '../select/option.js';
import '../utils/ripple.js';
import '../select/option-props.js';
import '../checkbox/index.js';
import '../checkbox/checkbox.js';
import '../checkbox/props.js';
import '../checkbox/group.js';
import 'lodash/intersection';
import '../checkbox/checkbox-group-props.js';
import '../checkbox/style';
import '../checkbox/type.js';
import '../select/props.js';
import '../tag/tag.js';
import '../tag/props.js';
import '../tag/check-tag.js';
import '../tag/check-tag-props.js';
import '../tag/style';
import '../tag/type.js';
import '../select/optionGroup.js';
import '../select/option-group-props.js';
import '../select/style';
import '../select/type.js';
import '../radio/radio.js';
import '../radio/props.js';
import '../radio/group.js';
import 'lodash/isNumber';
import '../radio/radio-group-props.js';
import '../radio/radio-button.js';
import '../radio/style';
import '../radio/type.js';
import '../button/button.js';
import '../button/props.js';
import '../button/style';
import '../button/type.js';

var calendar$1 = {exports: {}};

(function (module, exports) {
  !function (e, t) {
    "object" == 'object' && "undefined" != 'object' ? module.exports = t() : "function" == typeof undefined && undefined.amd ? undefined(t) : (e = "undefined" != typeof globalThis ? globalThis : e || self).dayjs_plugin_calendar = t();
  }(commonjsGlobal, function () {
    "use strict";

    return function (e, t, a) {
      var n = "h:mm A",
          d = {
        lastDay: "[Yesterday at] " + n,
        sameDay: "[Today at] " + n,
        nextDay: "[Tomorrow at] " + n,
        nextWeek: "dddd [at] " + n,
        lastWeek: "[Last] dddd [at] " + n,
        sameElse: "MM/DD/YYYY"
      };

      t.prototype.calendar = function (e, t) {
        var n = t || this.$locale().calendar || d,
            o = a(e || void 0).startOf("d"),
            s = this.diff(o, "d", !0),
            i = "sameElse",
            f = s < -6 ? i : s < -1 ? "lastWeek" : s < 0 ? "lastDay" : s < 1 ? "sameDay" : s < 2 ? "nextDay" : s < 7 ? "nextWeek" : i,
            l = n[f] || d[f];
        return "function" == typeof l ? l.call(this, a()) : this.format(l);
      };
    };
  });
})(calendar$1, calendar$1.exports);

var calendar = calendar$1.exports;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

function _isSlot(s) {
  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !isVNode(s);
}

dayjs.extend(calendar);

var createDefaultCurDate = function createDefaultCurDate() {
  return dayjs(dayjs().format("YYYY-MM-DD"));
};

var getDefaultControllerConfigData = function getDefaultControllerConfigData() {
  var visible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
  return {
    visible: visible,
    disabled: false,
    mode: {
      visible: true,
      radioGroupProps: {}
    },
    year: {
      visible: true,
      selecteProps: {}
    },
    month: {
      visible: true,
      selecteProps: {}
    },
    weekend: {
      visible: true,
      showWeekendButtonProps: {},
      hideWeekendButtonProps: {}
    },
    current: {
      visible: true,
      currentDayButtonProps: {},
      currentMonthButtonProps: {}
    }
  };
};

var _Calendar = defineComponent(_objectSpread(_objectSpread({}, mixins(getConfigReceiverMixins("calendar"))), {}, {
  name: "TCalendar",
  components: {
    TCheckTag: CheckTag,
    TSelect: Select,
    TOption: Option,
    TRadioGroup: RadioGroup,
    TRadioButton: RadioButton,
    TButton: Button,
    CalendarCellItem: CalendarCellItem
  },
  props: _objectSpread({}, props),
  emits: ["cell-click", "cell-double-click", "cell-right-click", "controller-change"],
  data: function data() {
    return {
      curDate: null,
      curSelectedYear: null,
      curSelectedMonth: null,
      curSelectedMode: null,
      isShowWeekend: true,
      controlSize: "medium"
    };
  },
  computed: {
    realFirstDayOfWeek: function realFirstDayOfWeek() {
      var _ref, _this$firstDayOfWeek;

      return (_ref = (_this$firstDayOfWeek = this.firstDayOfWeek) !== null && _this$firstDayOfWeek !== void 0 ? _this$firstDayOfWeek : this.global.firstDayOfWeek) !== null && _ref !== void 0 ? _ref : 1;
    },
    TEXT_MAP: function TEXT_MAP() {
      var t = this.t,
          global = this.global;
      var r = {
        showWeekend: t(global.showWeekend),
        hideWeekend: t(global.hideWeekend),
        today: t(global.today),
        thisMonth: t(global.thisMonth)
      };
      return r;
    },
    weekDipalyText: function weekDipalyText() {
      return this.week || this.t(this.global.week).split(",");
    },
    calendarCls: function calendarCls() {
      return ["".concat(COMPONENT_NAME), "".concat(COMPONENT_NAME, "--").concat(this.theme)];
    },
    calendarPanelCls: function calendarPanelCls() {
      return ["".concat(COMPONENT_NAME, "__panel"), "".concat(COMPONENT_NAME, "__panel--").concat(this.curSelectedMode)];
    },
    isWeekRender: function isWeekRender() {
      return typeof this.week === "function";
    },
    rangeFromTo: function rangeFromTo() {
      if (!this.range || this.range.length < 2) {
        return null;
      }

      var _this$range = _slicedToArray(this.range, 2),
          v1 = _this$range[0],
          v2 = _this$range[1];

      if (dayjs(v1).isBefore(dayjs(v2))) {
        return {
          from: v1,
          to: v2
        };
      }

      return {
        from: v2,
        to: v1
      };
    },
    controllerOptions: function controllerOptions() {
      var dayJsFilterDate = dayjs("".concat(this.curSelectedYear, "-").concat(this.curSelectedMonth));
      var re = {
        isShowWeekend: this.isShowWeekend,
        filterDate: dayJsFilterDate.toDate(),
        formattedFilterDate: dayJsFilterDate.format(this.format),
        mode: this.curSelectedMode
      };
      return re;
    },
    cellColHeaders: function cellColHeaders() {
      var re = [];
      var min = 1;
      var max = 7;

      for (var i = this.realFirstDayOfWeek; i <= max; i++) {
        re.push({
          num: i,
          display: this.getWeekDisplay(i)
        });
      }

      if (this.realFirstDayOfWeek > min) {
        for (var _i = min; _i < this.realFirstDayOfWeek; _i++) {
          re.push({
            num: _i,
            display: this.getWeekDisplay(_i)
          });
        }
      }

      return re;
    },
    yearSelectOptionList: function yearSelectOptionList() {
      var re = [];
      var begin = this.curSelectedYear - 10;
      var end = this.curSelectedYear + 10;

      if (this.rangeFromTo && this.rangeFromTo.from && this.rangeFromTo.to) {
        begin = dayjs(this.rangeFromTo.from).year();
        end = dayjs(this.rangeFromTo.to).year();
      }

      if (begin < MIN_YEAR) {
        begin = MIN_YEAR;
      }

      if (end < MIN_YEAR) {
        end = MIN_YEAR;
      }

      for (var i = begin; i <= end; i++) {
        var disabled = this.checkMonthAndYearSelecterDisabled(i, this.curSelectedMonth);
        re.push({
          value: i,
          label: this.t(this.global.yearSelection, {
            year: i
          }),
          disabled: disabled
        });
      }

      return re;
    },
    monthSelectOptionList: function monthSelectOptionList() {
      var re = [];

      for (var i = FIRST_MONTH_OF_YEAR; i <= LAST_MONTH_OF_YEAR; i++) {
        var disabled = this.checkMonthAndYearSelecterDisabled(this.curSelectedYear, i);
        re.push({
          value: i,
          label: this.t(this.global.monthSelection, {
            month: i
          }),
          disabled: disabled
        });
      }

      return re;
    },
    modeSelectOptionList: function modeSelectOptionList() {
      return [{
        value: "month",
        label: this.t(this.global.monthRadio)
      }, {
        value: "year",
        label: this.t(this.global.yearRadio)
      }];
    },
    monthCellsData: function monthCellsData() {
      var realFirstDayOfWeek = this.realFirstDayOfWeek;
      var daysArr = createMonthCellsData(this.curSelectedYear, this.curSelectedMonth, realFirstDayOfWeek, this.curDate, this.format);
      return daysArr;
    },
    yearCellsData: function yearCellsData() {
      var re = [];
      var monthsArr = createYearCellsData(this.curSelectedYear, this.curDate, this.format);
      var rowCount = Math.ceil(monthsArr.length / DEFAULT_YEAR_CELL_NUMINROW);
      var index = 0;

      for (var i = 1; i <= rowCount; i++) {
        var row = [];

        for (var j = 1; j <= DEFAULT_YEAR_CELL_NUMINROW; j++) {
          row.push(monthsArr[index]);
          index += 1;
        }

        re.push(row);
      }

      return re;
    },
    controllerConfigData: function controllerConfigData() {
      var _ref2, _this$controllerConfi;

      var controllerConfig = (_ref2 = (_this$controllerConfi = this.controllerConfig) !== null && _this$controllerConfi !== void 0 ? _this$controllerConfi : this.global.controllerConfig) !== null && _ref2 !== void 0 ? _ref2 : true;

      if (typeof controllerConfig === "boolean") {
        return getDefaultControllerConfigData(controllerConfig);
      }

      return _objectSpread(_objectSpread({}, getDefaultControllerConfigData()), controllerConfig);
    },
    isControllerVisible: function isControllerVisible() {
      return this.controllerConfigData && this.controllerConfigData.visible;
    },
    weekendBtnText: function weekendBtnText() {
      return this.isShowWeekend ? this.TEXT_MAP.hideWeekend : this.TEXT_MAP.showWeekend;
    },
    weekendBtnVBind: function weekendBtnVBind() {
      var c = this.controllerConfigData.weekend;
      return this.isShowWeekend ? c.hideWeekendButtonProps : c.showWeekendButtonProps;
    },
    currentBtnText: function currentBtnText() {
      return this.curSelectedMode === "month" ? this.TEXT_MAP.today : this.TEXT_MAP.thisMonth;
    },
    currentBtnVBind: function currentBtnVBind() {
      var c = this.controllerConfigData.current;
      return this.curSelectedMode === "month" ? c.currentDayButtonProps : c.currentMonthButtonProps;
    },
    isModeVisible: function isModeVisible() {
      return this.checkControllerVisible("mode");
    },
    isYearVisible: function isYearVisible() {
      return this.checkControllerVisible("year");
    },
    isMonthVisible: function isMonthVisible() {
      return this.checkControllerVisible("month");
    },
    isWeekendToggleVisible: function isWeekendToggleVisible() {
      return this.checkControllerVisible("weekend");
    },
    isCurrentBtnVisible: function isCurrentBtnVisible() {
      return this.checkControllerVisible("current");
    },
    isModeDisabled: function isModeDisabled() {
      return this.checkControllerDisabled("mode", "radioGroupProps");
    },
    isYearDisabled: function isYearDisabled() {
      return this.checkControllerDisabled("year", "selecteProps");
    },
    isMonthDisabled: function isMonthDisabled() {
      return this.checkControllerDisabled("month", "selecteProps");
    },
    isWeekendToggleDisabled: function isWeekendToggleDisabled() {
      var p = this.isShowWeekend ? "hideWeekendButtonProps" : "showWeekendButtonProps";
      return this.checkControllerDisabled("weekend", p);
    },
    isCurrentBtnDisabled: function isCurrentBtnDisabled() {
      var p = this.curSelectedMode === "month" ? "currentDayButtonProps" : "currentMonthButtonProps";
      return this.checkControllerDisabled("current", p);
    },
    filterYearStr: function filterYearStr() {
      return "".concat(this.controllerOptions.filterDate.getFullYear());
    },
    filterMonthStr: function filterMonthStr() {
      return "".concat(this.controllerOptions.filterDate.getMonth() + 1);
    },
    filterYearMonth: function filterYearMonth() {
      return {
        year: this.filterYearStr,
        month: this.filterMonthStr
      };
    }
  },
  watch: {
    value: {
      handler: function handler(v) {
        this.toCurrent(v);
      },
      immediate: true
    },
    mode: {
      handler: function handler(v) {
        this.curSelectedMode = v;
      },
      immediate: true
    },
    isShowWeekendDefault: {
      handler: function handler(v) {
        this.isShowWeekend = v;
      },
      immediate: true
    },
    filterYearMonth: {
      handler: function handler(v) {
        emitEvent(this, "month-change", v);
        this.controllerChange();
      }
    }
  },
  methods: {
    getCalendarWeekSlotData: function getCalendarWeekSlotData(item) {
      return {
        day: item.num
      };
    },
    getWeekDisplay: function getWeekDisplay(weekNum) {
      var weekText = this.weekDipalyText;
      return _typeof(weekText) === "object" && weekText[weekNum - 1] ? weekText[weekNum - 1] : getDayCn(weekNum);
    },
    checkMonthCellItemShowed: function checkMonthCellItemShowed(cellData) {
      return this.isShowWeekend || cellData.day < 6;
    },
    createCalendarCell: function createCalendarCell(cellData) {
      return _objectSpread(_objectSpread({}, cellData), this.controllerOptions);
    },
    clickCell: function clickCell(e, cellData) {
      this.curDate = dayjs(cellData.date);
      var options = this.getCellClickEventOptions(e, cellData);
      emitEvent(this, "cell-click", options);
    },
    doubleClickCell: function doubleClickCell(e, cellData) {
      var options = this.getCellClickEventOptions(e, cellData);
      emitEvent(this, "cell-double-click", options);
    },
    rightClickCell: function rightClickCell(e, cellData) {
      if (this.preventCellContextmenu) {
        e.preventDefault();
      }

      var options = this.getCellClickEventOptions(e, cellData);
      emitEvent(this, "cell-right-click", options);
    },
    getCellClickEventOptions: function getCellClickEventOptions(e, cellData) {
      return {
        cell: this.createCalendarCell(cellData),
        e: e
      };
    },
    controllerChange: function controllerChange() {
      var _this = this;

      this.$nextTick(function () {
        var options = _this.controllerOptions;
        emitEvent(_this, "controller-change", options);
      });
    },
    onWeekendToggleClick: function onWeekendToggleClick() {
      this.isShowWeekend = !this.isShowWeekend;
      this.controllerChange();
    },
    checkMonthCellColHeaderVisibled: function checkMonthCellColHeaderVisibled(item) {
      var re = true;

      if (!this.isShowWeekend) {
        re = item.num !== 6 && item.num !== 7;
      }

      return re;
    },
    checkControllerDisabled: function checkControllerDisabled(name, propsName) {
      var re = false;
      var conf = this.controllerConfigData;

      if (conf && (conf.disabled || conf[name] && conf[name][propsName] && conf[name][propsName].disabled)) {
        re = true;
      }

      return re;
    },
    checkControllerVisible: function checkControllerVisible(name) {
      var re = true;
      var conf = this.controllerConfigData;

      if (!conf || !conf.visible || conf[name] === false || conf[name] && !conf[name].visible) {
        re = false;
      }

      return re;
    },
    toCurrent: function toCurrent(value) {
      this.curDate = value ? dayjs(value) : createDefaultCurDate();
      this.curSelectedYear = this.curDate.year();
      this.curSelectedMonth = parseInt(this.curDate.format("M"), 10);
    },
    checkMonthAndYearSelecterDisabled: function checkMonthAndYearSelecterDisabled(year, month) {
      var disabled = false;

      if (this.rangeFromTo && this.rangeFromTo.from && this.rangeFromTo.to) {
        var beginYear = dayjs(this.rangeFromTo.from).year();
        var endYear = dayjs(this.rangeFromTo.to).year();

        if (year === beginYear) {
          var beginMon = parseInt(dayjs(this.rangeFromTo.from).format("M"), 10);
          disabled = month < beginMon;
        } else if (year === endYear) {
          var endMon = parseInt(dayjs(this.rangeFromTo.to).format("M"), 10);
          disabled = month > endMon;
        }
      }

      return disabled;
    },
    renderControl: function renderControl() {
      var _this2 = this;

      var _slot, _slot2, _slot3;

      var controllerOptions = this.controllerOptions;
      return createVNode("div", {
        "class": "".concat(COMPONENT_NAME, "__control")
      }, [createVNode("div", {
        "class": "".concat(COMPONENT_NAME, "__title")
      }, [renderTNodeJSX(this, "head", {
        params: controllerOptions
      })]), createVNode("div", {
        "class": "".concat(COMPONENT_NAME, "__control-section")
      }, [this.isYearVisible && createVNode("div", {
        "class": "".concat(COMPONENT_NAME, "__control-section-cell")
      }, [createVNode(resolveComponent("t-select"), mergeProps({
        "modelValue": _this2.curSelectedYear,
        "onUpdate:modelValue": function onUpdateModelValue($event) {
          return _this2.curSelectedYear = $event;
        },
        "size": this.controlSize,
        "disabled": this.isYearDisabled
      }, this.controllerConfigData.year.selecteProps), _isSlot(_slot = this.yearSelectOptionList.map(function (item) {
        return createVNode(resolveComponent("t-option"), {
          "key": item.value,
          "value": item.value,
          "label": item.label,
          "disabled": item.disabled
        }, {
          "default": function _default() {
            return [item.label];
          }
        });
      })) ? _slot : {
        "default": function _default() {
          return [_slot];
        }
      })]), this.curSelectedMode === "month" && this.isMonthVisible && createVNode("div", {
        "class": "".concat(COMPONENT_NAME, "__control-section-cell")
      }, [createVNode(resolveComponent("t-select"), mergeProps({
        "modelValue": _this2.curSelectedMonth,
        "onUpdate:modelValue": function onUpdateModelValue($event) {
          return _this2.curSelectedMonth = $event;
        },
        "size": this.controlSize,
        "disabled": this.isMonthDisabled
      }, this.controllerConfigData.month.selecteProps), _isSlot(_slot2 = this.monthSelectOptionList.map(function (item) {
        return createVNode(resolveComponent("t-option"), {
          "key": item.value,
          "value": item.value,
          "label": item.label,
          "disabled": item.disabled
        }, {
          "default": function _default() {
            return [item.label];
          }
        });
      })) ? _slot2 : {
        "default": function _default() {
          return [_slot2];
        }
      })]), this.isModeVisible && createVNode("div", {
        "class": "".concat(COMPONENT_NAME, "__control-section-cell"),
        "style": "height: auto"
      }, [createVNode(resolveComponent("t-radio-group"), mergeProps({
        "modelValue": _this2.curSelectedMode,
        "onUpdate:modelValue": function onUpdateModelValue($event) {
          return _this2.curSelectedMode = $event;
        },
        "variant": "default-filled",
        "size": this.controlSize,
        "disabled": this.isModeDisabled
      }, this.controllerConfigData.mode.radioGroupProps, {
        "onChange": this.controllerChange
      }), _isSlot(_slot3 = this.modeSelectOptionList.map(function (item) {
        return createVNode(resolveComponent("t-radio-button"), {
          "key": item.value,
          "value": item.value
        }, {
          "default": function _default() {
            return [item.label];
          }
        });
      })) ? _slot3 : {
        "default": function _default() {
          return [_slot3];
        }
      })]), this.theme === "full" && this.curSelectedMode && this.isWeekendToggleVisible && createVNode("div", {
        "class": "".concat(COMPONENT_NAME, "__control-section-cell")
      }, [createVNode(resolveComponent("t-check-tag"), mergeProps({
        "class": "".concat(COMPONENT_NAME, "__control-tag"),
        "theme": this.isShowWeekend ? "default" : "primary",
        "size": this.controlSize,
        "disabled": this.isWeekendToggleDisabled
      }, this.weekendBtnVBind, {
        "onClick": this.onWeekendToggleClick
      }), {
        "default": function _default() {
          return [_this2.weekendBtnText];
        }
      })]), this.theme === "full" && this.isCurrentBtnVisible && createVNode("div", {
        "class": "".concat(COMPONENT_NAME, "__control-section-cell")
      }, [createVNode(resolveComponent("t-button"), mergeProps({
        "size": this.controlSize,
        "disabled": this.isCurrentBtnDisabled,
        "onClick": function onClick() {
          _this2.toCurrent();
        }
      }, this.currentBtnVBind), {
        "default": function _default() {
          return [_this2.currentBtnText];
        }
      })])])]);
    }
  },
  render: function render() {
    var _this3 = this;

    var calendarCls = this.calendarCls,
        calendarPanelCls = this.calendarPanelCls,
        isControllerVisible = this.isControllerVisible,
        cellColHeaders = this.cellColHeaders,
        checkMonthCellColHeaderVisibled = this.checkMonthCellColHeaderVisibled;

    var monthBody = function monthBody() {
      return createVNode("table", {
        "class": "".concat(COMPONENT_NAME, "__table")
      }, [createVNode("thead", {
        "class": "".concat(COMPONENT_NAME, "__table-head")
      }, [createVNode("tr", {
        "class": "".concat(COMPONENT_NAME, "__table-head-row")
      }, [cellColHeaders.map(function (item, index) {
        return checkMonthCellColHeaderVisibled(item) && createVNode("th", {
          "class": "".concat(COMPONENT_NAME, "__table-head-cell")
        }, [Array.isArray(_this3.week) ? _this3.week[index] : renderTNodeJSXDefault(_this3, "week", {
          defaultNode: createVNode("span", null, [item.display]),
          params: _this3.getCalendarWeekSlotData(item)
        })]);
      })])]), createVNode("tbody", {
        "class": "".concat(COMPONENT_NAME, "__table-body")
      }, [_this3.monthCellsData.map(function (week, weekIndex) {
        return createVNode("tr", {
          "class": "".concat(COMPONENT_NAME, "__table-body-row")
        }, [week.map(function (item, itemIndex) {
          return _this3.checkMonthCellItemShowed(item) && createVNode(resolveComponent("calendar-cell-item"), {
            "key": "".concat(weekIndex, "-").concat(itemIndex),
            "item": item,
            "theme": _this3.theme,
            "t": _this3.t,
            "global": _this3.global,
            "cell": _this3.cell,
            "fillWithZero": _this3.fillWithZero,
            "onClick": function onClick(e) {
              return _this3.clickCell(e, item);
            },
            "onDblclick": function onDblclick(e) {
              return _this3.doubleClickCell(e, item);
            },
            "onRightclick": function onRightclick(e) {
              return _this3.rightClickCell(e, item);
            }
          }, {
            "default": function _default() {
              return [_objectSpread({}, _this3.$slots)];
            }
          });
        })]);
      })])]);
    };

    var yearBody = function yearBody() {
      return createVNode("table", {
        "class": "".concat(COMPONENT_NAME, "__table")
      }, [createVNode("tbody", {
        "class": "".concat(COMPONENT_NAME, "__table-body")
      }, [_this3.yearCellsData.map(function (cell, cellIndex) {
        return createVNode("tr", {
          "class": "".concat(COMPONENT_NAME, "__table-body-row")
        }, [cell.map(function (item, itemIndex) {
          return createVNode(resolveComponent("calendar-cell-item"), {
            "key": "".concat(cellIndex, "-").concat(itemIndex),
            "item": item,
            "theme": _this3.theme,
            "t": _this3.t,
            "global": _this3.global,
            "cell": _this3.cell,
            "fillWithZero": _this3.fillWithZero,
            "onClick": function onClick(e) {
              return _this3.clickCell(e, item);
            },
            "onDblclick": function onDblclick(e) {
              return _this3.doubleClickCell(e, item);
            },
            "onRightclick": function onRightclick(e) {
              return _this3.rightClickCell(e, item);
            }
          }, {
            "default": function _default() {
              return [_objectSpread({}, _this3.$slots)];
            }
          });
        })]);
      })])]);
    };

    return createVNode("div", {
      "class": calendarCls
    }, [isControllerVisible && this.renderControl(), createVNode("div", {
      "class": calendarPanelCls
    }, [this.curSelectedMode === "month" ? monthBody() : yearBody()])]);
  }
}));

export { _Calendar as default };
//# sourceMappingURL=calendar.js.map
